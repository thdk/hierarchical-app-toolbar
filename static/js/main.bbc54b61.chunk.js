(this["webpackJsonpapp-navigation"]=this["webpackJsonpapp-navigation"]||[]).push([[0],{28:function(e,t,n){e.exports=n(52)},33:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),c=n.n(i),l=(n(33),n(16)),o=n(3),u=(n(34),n(7)),s=n(1),d=n(12),m=n.n(d),f=n(14),p=n(6),v=n(10);function g(e,t,n){if(!t)return!1;var a=n.get(t);return!!a&&(!!a.parent&&(!(!a.parent||a.parent!==e)||g(e,a.parent,n)))}var h=r.a.createContext({}),b=function(e,t){switch(t.type){case"navigate":return t.payload.id;case"close-content":case"reset":return;default:return e.active}},E=function(e,t){switch(t.type){case"navigate":return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.includeCurrent,i=void 0===r||r;if(!n)return[void 0];var c=t.get(n);if(!c||!c.parent)return i?[void 0,n]:[void 0];var l=e(t,c.parent,{includeCurrent:!0});return i?[].concat(Object(v.a)(l),[n]):l}(e.paths,t.payload.id,{includeCurrent:Array.from(e.paths.values()).some((function(e){return e.parent===t.payload.id}))});case"reset":return[void 0];default:return e.trail}},y=function(e,t){switch(t.type){case"navigate":var n=void 0!==t.payload.id?e.paths.get(t.payload.id):void 0;return n?n.content:void 0;case"close-content":case"reset":return;default:return e.content}},x=function(e,t){switch(t.type){case"reset":return new Map(t.payload.items.map((function(e){return[e.id,e]})));case"add":var n=new Map(e.paths);return t.payload.items.forEach((function(e){return n.set(e.id,e)})),n;default:return e.paths}},j=function(e,t){switch(t.type){case"navigate":if(t.payload.id===e.active)return e.navigation;var n=Array.from(e.paths.values()),a=t.payload.id&&e.paths.get(t.payload.id);if(!a)return n.filter((function(e){return!e.parent}));var r=Array.from(e.paths.values()).filter((function(e){return e.parent===t.payload.id}));return r.length?r:n.filter((function(e){return e.parent===a.parent}));case"reset":return t.payload.items.filter((function(e){return void 0===e.parent}));default:return e.navigation}},O=function(e,t){return{active:b(e,t),trail:E(e,t),content:y(e,t),paths:x(e,t),navigation:j(e,t)}},C=function(e){var t=e.children,n=Object(a.useReducer)(O,{trail:[void 0],paths:new Map,content:null,active:void 0,navigation:[]}),i=Object(p.a)(n,2),c=i[0],l=c.active,o=c.content,u=c.trail,s=c.paths,d=c.navigation,m=i[1],f=Object(a.useMemo)((function(){return Array.from(s.values())}),[s]),v=Object(a.useCallback)((function(e){var t=s.get(e);if(!t)throw new Error("No toolbar item found for "+e);return t}),[s]),b=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e!==l&&(t.allowChild&&g(e,l,s)||m({type:"navigate",payload:{id:e}}))}),[s,l]),E=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;m({type:"navigate",payload:{id:u[u.length-1-e]}})}),[u]),y=Object(a.useCallback)((function(e){m(e===l?{type:"close-content"}:{type:"navigate",payload:{id:e}})}),[l]),x=Object(a.useCallback)((function(e){m({type:"reset",payload:{items:e}})}),[]),j={allPaths:f,add:Object(a.useCallback)((function(e){m({type:"add",payload:{items:e}})}),[]),activePath:l,get:v,navigate:b,navigateDown:y,navigateUp:E,navigation:d,navigationContent:o,navigationTrail:u,reset:x};return r.a.createElement(h.Provider,{value:j},t)},k=function(){return r.a.useContext(h)},w=(n(40),function(e){var t=e.isLast;return void 0!==t&&t?r.a.createElement(r.a.Fragment,null):r.a.createElement("span",null," - ")}),N=function(){var e=k(),t=e.navigateUp,n=e.navigationTrail;return r.a.createElement("div",{className:"navigation-breadcrumbs"},n.map((function(e,a){var i=a===n.length-1;return r.a.createElement("span",{key:a},i?r.a.createElement("span",null,e||"Main"):r.a.createElement("a",{onClick:function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.preventDefault(),t(n)}(e,n.length-1-a)},href:"#"},e||"Main"),r.a.createElement(w,{isLast:i}))})))},S=r.a.createContext({}),A=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(p.a)(n,2),c=i[0],l=i[1],o={isMenuOpen:c,toggleMenu:function(){return l(!c)},closeMenu:function(){return l(!1)}};return r.a.createElement(S.Provider,{value:o},t)},T=function(){return r.a.useContext(S)};n(41);u.b.add(s.h,s.j,s.f,s.r);var _=function(){var e=k(),t=e.navigationTrail,n=e.navigateUp,a=T().toggleMenu;return t.length>1?r.a.createElement(f.a,{icon:"chevron-left",onClick:function(){return n()}}):r.a.createElement(f.a,{icon:s.f,onClick:a})},M=function(){return k().navigationTrail.length>1?r.a.createElement(f.a,{icon:"question"}):r.a.createElement(f.a,{icon:"ellipsis-v"})},z=function(){var e=k().navigationTrail,t=m()(["top-bar",{"top-bar--contextual":e.length>1}]);return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"top-bar__left"},r.a.createElement(_,null)),r.a.createElement("div",{className:"top-bar__center"},r.a.createElement(N,null)),r.a.createElement("div",{className:"top-bar__right"},r.a.createElement(M,null)))},P=n(13),I=(n(42),function(e){var t=e.children,n=e.isActive,a=void 0!==n&&n,i=e.className,c=Object(P.a)(e,["children","isActive","className"]),l=m()([i,"navigation-item",{"navigation-item--active":a}]);return r.a.createElement("div",Object.assign({className:l},c),t)}),q=(n(43),function(){var e=k(),t=e.activePath,n=e.navigationContent,a=e.navigation,i=e.navigateDown,c=m()(["toolbar",{"toolbar--closed":!a.length}]);return r.a.createElement("div",{className:c},n?r.a.createElement("div",{className:"toolbar__content"},n):null,r.a.createElement("div",{className:"toolbar__items"},a.map((function(e){var n=e.button,a=e.id,c=e.content,l=e.navigate,o=void 0===l||l;return r.a.createElement(I,{key:a,isActive:!!c&&t===a,onClick:o?function(){return i(a)}:void 0},n)}))))}),F=(n(44),function(){var e=T().isMenuOpen,t=T().closeMenu,n=Object(a.useCallback)((function(){t()}),[t]),i=m()(["menu",{"menu--open":e}]);return r.a.createElement("div",{className:i},r.a.createElement(l.b,{to:"/",onClick:n},"Home"),r.a.createElement(l.b,{to:"/editor",onClick:n},"Editor"),r.a.createElement(l.b,{to:"/todos",onClick:n},"To do"))}),H=(n(47),function(){var e=k(),t=e.navigationTrail,n=e.get,a=e.navigate,i=e.allPaths,c=t[t.length-1],l=c&&n(c),o=l&&l.showSiblings?i.filter((function(e){return e.parent===l.parent})):void 0;return o?r.a.createElement("div",{className:"toolbar-siblings"},o.map((function(e){var n=e.button,i=e.id;return r.a.createElement(I,{key:i,isActive:-1!==t.indexOf(i),onClick:function(){return a(i)}},n)}))):r.a.createElement(r.a.Fragment,null)}),L=function(e){var t=e.children;return r.a.createElement("div",{className:"app"},r.a.createElement(z,null),r.a.createElement("aside",null,r.a.createElement(F,null)),r.a.createElement("div",{className:"app__body"},t),r.a.createElement(q,null),r.a.createElement(H,null))},D=function(){return r.a.createElement(L,null,"Home")},U=n(5),R=r.a.createContext({}),B=function(e){var t=e.children,n=Object(a.useState)({completed:!0}),i=Object(p.a)(n,2),c=i[0],l=i[1],o=Object(a.useState)([]),u=Object(p.a)(o,2),s=u[0],d=u[1],m=Object(a.useState)([]),f=Object(p.a)(m,2),v=f[0],g=f[1],h=Object(a.useCallback)((function(){l(Object(U.a)(Object(U.a)({},c),{},{completed:!c.completed}))}),[c]);return Object(a.useEffect)((function(){g(c.completed?s.filter((function(e){return!e.completed})):s)}),[c,g,s]),r.a.createElement(R.Provider,{value:{todos:v,toggleCompleted:h,setTodos:d,filter:c}},t)},J=function(){return r.a.useContext(R)},W=function(){var e=J(),t=e.todos,n=e.setTodos;return Object(a.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(e){console.log({json:e}),n(e)}))}),[n]),t?r.a.createElement("div",{className:"todo-list"},t.map((function(e,t){return r.a.createElement("div",{className:"todo",key:e.id+t},e.completed?"V":"X","-",e.title)}))):r.a.createElement(r.a.Fragment,null)},G=(n(48),function(e){var t=e.text,n=e.icon,a=Object(P.a)(e,["text","icon"]);return r.a.createElement("div",Object.assign({className:"button"},a),r.a.createElement(f.a,{className:"button__icon",icon:n}),r.a.createElement("span",{className:"navigation-button__text"},t))}),V=(n(49),function(){var e=J(),t=e.toggleCompleted,n=e.filter.completed;return r.a.createElement("div",{className:"todo-filter todo-filter-completed"},r.a.createElement("label",null,"Hide completed todos"),r.a.createElement("input",{type:"checkbox",checked:n,onChange:t}))}),X=[{button:r.a.createElement(G,{icon:"fish",text:"Great fish"}),parent:"recipes",id:"fish"},{button:r.a.createElement(G,{icon:"stroopwafel",text:"Belgian waffle"}),parent:"recipes",id:"waffle"},{button:r.a.createElement(G,{icon:"pizza-slice",text:"Pizza"}),parent:"recipes",id:"pizza"}],Z=function(){var e=k(),t=e.add,n=e.navigateDown,i=Object(a.useState)(!1),c=Object(p.a)(i,2),l=c[0],o=c[1],u=Object(a.useCallback)((function(){o(!0),setTimeout((function(){t(X),o(!1),n("recipes")}),2e3)}),[t,n]);return r.a.createElement(G,{icon:l?s.e:s.y,text:l?"Loading...":"Recipes",onClick:u})},$=[{button:r.a.createElement(G,{icon:s.o,text:"To do"}),content:r.a.createElement(V,null),id:"to do"},{button:r.a.createElement(G,{icon:s.t,text:"Space robot"}),content:r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),id:"robot"},{navigate:!1,button:r.a.createElement(Z,null),id:"recipes"}],K=function(){var e=k().reset;return Object(a.useEffect)((function(){return e($),function(){e([])}}),[e]),r.a.createElement(L,null,r.a.createElement(W,null))},Q=(n(50),function(e){var t=e.children,n=e.tag,a=void 0===n?"p":n,i=Object(P.a)(e,["children","tag"]);return r.a.createElement(a,i,t)});function Y(e,t){switch(t.type){case"add":return{photos:t.payload};default:return e}}function ee(e,t){switch(t.type){case"request-html-success":return t.data;case"update-html":var n=e.findIndex((function(e){return e.id===t.id})),a=Object(U.a)(Object(U.a)({},e[n]),t.data);return[].concat(Object(v.a)(e.slice(0,n)),[a],Object(v.a)(e.slice(n+1)));case"add-html":return[].concat(Object(v.a)(e),[t.data]);default:return e}}function te(e,t){switch(t.type){case"set-default-style":return t.data;default:return e}}function ne(e,t){switch(t.type){case"select-html":return t.data;default:return e}}function ae(e,t){return{data:ee(e.data,t),selectedId:ne(e.selectedId,t),defaultStyle:te(e.defaultStyle,t)}}function re(e,t){return{photos:Y(e.photos,t),html:ae(e.html,t)}}function ie(e){var t=e.selectedId;if(t)return e.data.find((function(e){return e.id===t}))}function ce(e){return e.html}function le(e){return e.photos}var oe=r.a.createContext({}),ue=function(e){var t=e.children,n=Object(a.useReducer)(re,{html:{data:[],selectedId:void 0,defaultStyle:{textAlign:"left",fontSize:"10px"}},photos:{photos:[]}}),i=Object(p.a)(n,2),c=i[0],l=i[1],o=Object(a.useMemo)((function(){return{state:c,dispatch:l}}),[c,l]);return r.a.createElement(oe.Provider,{value:o},t)},se=function(){var e=r.a.useContext(oe),t=e.state,n=e.dispatch;return{state:ce(t),dispatch:n}},de=function(){var e=r.a.useContext(oe),t=e.state,n=e.dispatch;return{state:le(t),dispatch:n}},me=function(){var e=k().navigate,t=se(),n=t.state,i=t.dispatch,c=Object(a.useCallback)((function(t){e("text",{allowChild:!0}),i({type:"select-html",data:t})}),[e,i]);return r.a.createElement("div",{className:"editor"},r.a.createElement("p",null,"Click the text below to select and start editing"),r.a.createElement("p",null,"(Only text height and text alignment are implemented)"),n.data.map((function(e){return r.a.createElement(Q,{key:e.id,tag:e.tag,onClick:c.bind(null,e.id),className:n.selectedId===e.id?"active":void 0,style:e.style},e.content)})))},fe=(n(51),function(e){var t=e.min,n=e.max,a=e.value,i=Object(P.a)(e,["min","max","value"]);return r.a.createElement("div",{className:"slider"},r.a.createElement("input",Object.assign({min:t,max:n,type:"range",value:a},i)))});u.b.add(s.a,s.b,s.c,s.d);var pe=function(){var e=se(),t=e.state,n=e.dispatch,i=ie(t),c=Object(a.useCallback)((function(e){if(i){var t=i.style,a=i.id;n({type:"update-html",data:{style:Object(U.a)(Object(U.a)({},t),{},{fontSize:e.target.value+"px"})},id:a})}}),[n,i]);if(!i)return r.a.createElement("p",null,"Select some text first");var l=+(i.style.fontSize||"").replace(/[A-Za-z]/g,"");return r.a.createElement(fe,{onChange:c,min:1,max:50,value:l})};u.b.add(s.m,s.w,s.v,s.p,s.a);var ve=[{button:r.a.createElement(G,{icon:"text-width",text:"Text width"}),content:r.a.createElement(fe,{min:1,max:30,value:13}),parent:"text",id:"text-width"},{button:r.a.createElement(G,{icon:"text-height",text:"Text height"}),content:r.a.createElement(pe,null),parent:"text",id:"text-height"},{button:r.a.createElement(G,{icon:"align-center",text:"Text alignment"}),parent:"text",id:"text-alignment",showSiblings:!0},{button:r.a.createElement(G,{icon:"heading",text:"Heading"}),parent:"text",id:"heading"},{button:r.a.createElement(G,{icon:"paragraph",text:"Paragraph"}),parent:"text",id:"paragraph"}];u.b.add(s.a,s.b,s.c,s.d);var ge={justify:{icon:"align-justify",text:"Justify",style:{textAlign:"justify"}},left:{icon:"align-left",text:"Left",style:{textAlign:"left"}},right:{icon:"align-right",text:"Right",style:{textAlign:"right"}},center:{icon:"align-center",text:"Center",style:{textAlign:"center"}}},he=function(e){var t=e.alignment,n=se(),i=n.state,c=n.dispatch,l=ge[t],o=l.icon,u=l.text,s=l.style,d=ie(i),m=d||{},f=m.style,p=m.id,v=Object(a.useCallback)((function(){p&&c({type:"update-html",data:{style:Object(U.a)(Object(U.a)({},f),s)},id:p})}),[c,s,p,f]),g={fontWeight:d&&d.style&&Array.from(Object.keys(s)).every((function(e){return s[e]===d.style[e]}))?"bold":"normal"};return r.a.createElement(G,{style:g,icon:o,text:u,onClick:v})},be=[{button:r.a.createElement(he,{alignment:"justify"}),parent:"text-alignment",id:"align-justify"},{button:r.a.createElement(he,{alignment:"left"}),parent:"text-alignment",id:"align-left"},{button:r.a.createElement(he,{alignment:"center"}),parent:"text-alignment",id:"align-center"},{button:r.a.createElement(he,{alignment:"right"}),parent:"text-alignment",id:"align-right"}],Ee=[].concat(Object(v.a)(ve),Object(v.a)(be)),ye=n(18),xe=function(){var e=de().state.photos;return r.a.createElement(r.a.Fragment,null,e.map((function(e,t){return r.a.createElement("img",{key:t,alt:e.title,src:e.thumbnailUrl})})))},je=function(){var e=de().dispatch,t=Object(a.useState)(!1),n=Object(p.a)(t,2),i=n[0],c=n[1],l=k().navigateDown,o=Object(a.useCallback)((function(){c(!0),fetch("https://jsonplaceholder.typicode.com/photos?albumId=6").then((function(e){return e.json()})).then((function(e){return new Promise((function(t){return setTimeout((function(){t(e)}),1e3)}))})).finally((function(){return c(!1)})).then((function(t){e({type:"add",payload:t}),l("filmroll")}))}),[e,l]);return r.a.createElement(G,{icon:s.k,text:i?"Loading...":"Film roll",onClick:o})},Oe=[{button:r.a.createElement(je,null),navigate:!1,content:r.a.createElement(xe,null),id:"filmroll",parent:"photo"},{button:r.a.createElement(G,{icon:ye.a,text:"Facebook"}),id:"facebook",parent:"photo"},{button:r.a.createElement(G,{icon:ye.c,text:"Google"}),id:"google",parent:"photo"},{button:r.a.createElement(G,{icon:ye.b,text:"Flickr"}),id:"flickr",parent:"photo"},{button:r.a.createElement(G,{icon:ye.d,text:"Instagram"}),id:"instagram",parent:"photo"}],Ce=[{button:r.a.createElement(G,{icon:s.g,text:"Photo"}),id:"photo"},{button:r.a.createElement(G,{icon:s.s,text:"Text"}),id:"text"}].concat(Object(v.a)(Ee),Object(v.a)(Oe)),ke=[{id:"1",tag:"h1",content:"Heading 1",style:{textAlign:"left",fontSize:"28px"}},{id:"2",tag:"h2",content:"Heading 2",style:{textAlign:"left",fontSize:"22px"}},{id:"3",tag:"h3",content:"Heading 3",style:{textAlign:"left",fontSize:"18px"}}],we=function(){var e=k().reset,t=se(),n=t.state,i=t.dispatch,c=n.defaultStyle;return Object(a.useEffect)((function(){return e(Ce),function(){e([])}}),[e]),Object(a.useEffect)((function(){Promise.resolve(ke).then((function(e){i({type:"request-html-success",data:e.map((function(e){var t=Object(U.a)(Object(U.a)({},c),e.style);return Object(U.a)(Object(U.a)({},e),{},{style:t})}))})}))}),[c,i]),r.a.createElement(L,null,r.a.createElement(me,null))};u.b.add(s.i,s.n,s.t,s.x,s.l,s.q,s.u);var Ne=function(){return r.a.createElement(l.a,{basename:"/hierarchical-app-toolbar"},r.a.createElement(ue,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/todos"},r.a.createElement(K,null)),r.a.createElement(o.a,{path:"/editor"},r.a.createElement(we,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(D,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null,r.a.createElement(B,null,r.a.createElement(C,{paths:[]},r.a.createElement(Ne,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.bbc54b61.chunk.js.map