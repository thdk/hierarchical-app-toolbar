(this["webpackJsonpapp-navigation"]=this["webpackJsonpapp-navigation"]||[]).push([[0],{28:function(e,t,n){e.exports=n(52)},33:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),c=n.n(i),o=(n(33),n(16)),l=n(3),u=(n(34),n(11)),s=n(1),d=n(12),m=n.n(d),p=n(14),f=n(6),h=n(7);function g(e,t,n){if(!t)return!1;var a=n.get(t);return!!a&&(!!a.parent&&(!(!a.parent||a.parent!==e)||g(e,a.parent,n)))}var v=r.a.createContext({}),b=function(e,t){switch(t.type){case"navigate":return t.payload.id;case"close-content":case"reset":return;default:return e.active}},E=function(e,t){switch(t.type){case"navigate":return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.includeCurrent,i=void 0===r||r;if(!n)return[void 0];var c=t.get(n);if(!c||!c.parent)return i?[void 0,n]:[void 0];var o=e(t,c.parent,{includeCurrent:!0});return i?[].concat(Object(h.a)(o),[n]):o}(e.paths,t.payload.id,{includeCurrent:Array.from(e.paths.values()).some((function(e){return e.parent===t.payload.id}))});case"reset":return[void 0];default:return e.trail}},y=function(e,t){switch(t.type){case"navigate":var n=void 0!==t.payload.id?e.paths.get(t.payload.id):void 0;return n?n.content:void 0;case"close-content":case"reset":return;default:return e.content}},x=function(e,t){switch(t.type){case"reset":return new Map(t.payload.items.map((function(e){return[e.id,e]})));case"add":var n=new Map(e.paths);return t.payload.items.forEach((function(e){return n.set(e.id,e)})),n;default:return e.paths}},j=function(e,t){switch(t.type){case"navigate":if(t.payload.id===e.active)return e.buttons;var n=Array.from(e.paths.values()),a=t.payload.id&&e.paths.get(t.payload.id);if(!a)return n.filter((function(e){return!e.parent}));var r=Array.from(e.paths.values()).filter((function(e){return e.parent===t.payload.id}));return r.length?r:n.filter((function(e){return e.parent===a.parent}));case"reset":return t.payload.items.filter((function(e){return void 0===e.parent}));default:return e.buttons}},O=function(e,t){return{active:b(e,t),trail:E(e,t),content:y(e,t),paths:x(e,t),buttons:j(e,t)}},C=function(e){var t=e.children,n=Object(a.useReducer)(O,{trail:[void 0],paths:new Map,content:null,active:void 0,buttons:[]}),i=Object(f.a)(n,2),c=i[0],o=c.active,l=c.content,u=c.trail,s=c.paths,d=c.buttons,m=i[1],p=Object(a.useMemo)((function(){return Array.from(s.values())}),[s]),h=Object(a.useCallback)((function(e){var t=s.get(e);if(!t)throw new Error("No toolbar item found for "+e);return t}),[s]),b=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e!==o&&(t.allowChild&&g(e,o,s)||m({type:"navigate",payload:{id:e}}))}),[s,o]),E=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;m({type:"navigate",payload:{id:u[u.length-1-e]}})}),[u]),y=Object(a.useCallback)((function(e){m(e===o?{type:"close-content"}:{type:"navigate",payload:{id:e}})}),[o]),x=Object(a.useCallback)((function(e){m({type:"reset",payload:{items:e}})}),[]),j={allPaths:p,add:Object(a.useCallback)((function(e){m({type:"add",payload:{items:e}})}),[]),activePath:o,get:h,navigate:b,navigateDown:y,navigateUp:E,buttons:d,navigationContent:l,navigationTrail:u,reset:x};return r.a.createElement(v.Provider,{value:j},t)},k=function(){return r.a.useContext(v)},w=(n(40),function(e){var t=e.isLast;return void 0!==t&&t?r.a.createElement(r.a.Fragment,null):r.a.createElement("span",null," - ")}),S=function(){var e=k(),t=e.navigateUp,n=e.navigationTrail;return r.a.createElement("div",{className:"navigation-breadcrumbs"},n.map((function(e,a){var i=a===n.length-1;return r.a.createElement("span",{key:a},i?r.a.createElement("span",null,e||"Main"):r.a.createElement("a",{onClick:function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.preventDefault(),t(n)}(e,n.length-1-a)},href:"#"},e||"Main"),r.a.createElement(w,{isLast:i}))})))},N=r.a.createContext({}),z=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(f.a)(n,2),c=i[0],o=i[1],l={isMenuOpen:c,toggleMenu:function(){return o(!c)},closeMenu:function(){return o(!1)}};return r.a.createElement(N.Provider,{value:l},t)},A=function(){return r.a.useContext(N)};n(41);u.b.add(s.h,s.j,s.f,s.r);var P=function(){var e=k(),t=e.navigationTrail,n=e.navigateUp,a=A().toggleMenu;return t.length>1?r.a.createElement(p.a,{icon:"chevron-left",onClick:function(){return n()}}):r.a.createElement(p.a,{icon:s.f,onClick:a})},T=function(){return k().navigationTrail.length>1?r.a.createElement(p.a,{icon:"question"}):r.a.createElement(p.a,{icon:"ellipsis-v"})},_=function(){var e=k().navigationTrail,t=m()(["top-bar",{"top-bar--contextual":e.length>1}]);return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"top-bar__left"},r.a.createElement(P,null)),r.a.createElement("div",{className:"top-bar__center"},r.a.createElement(S,null)),r.a.createElement("div",{className:"top-bar__right"},r.a.createElement(T,null)))},M=n(13),H=(n(42),function(e){var t=e.children,n=e.isActive,a=void 0!==n&&n,i=e.className,c=Object(M.a)(e,["children","isActive","className"]),o=m()([i,"toolbar-button",{"toolbar-button--active":a}]);return r.a.createElement("div",Object.assign({className:o},c),t)}),W=(n(43),function(){var e=k(),t=e.activePath,n=e.navigationContent,a=e.buttons,i=e.navigateDown,c=m()(["toolbar",{"toolbar--closed":!a.length}]);return r.a.createElement("div",{className:c},n?r.a.createElement("div",{className:"toolbar__content"},n):null,r.a.createElement("div",{className:"toolbar__items"},a.map((function(e){var n=e.button,a=e.id,c=e.content,o=e.navigate,l=void 0===o||o;return r.a.createElement(H,{key:a,isActive:!!c&&t===a,onClick:l?function(){return i(a)}:void 0},n)}))))}),I=(n(44),function(){var e=A().isMenuOpen,t=A().closeMenu,n=Object(a.useCallback)((function(){t()}),[t]),i=m()(["menu",{"menu--open":e}]);return r.a.createElement("div",{className:i},r.a.createElement(o.b,{to:"/",onClick:n},"Home"),r.a.createElement(o.b,{to:"/editor",onClick:n},"Editor"),r.a.createElement(o.b,{to:"/todos",onClick:n},"To do"))}),q=(n(47),function(){var e=k(),t=e.navigationTrail,n=e.get,a=e.navigate,i=e.allPaths,c=t[t.length-1],o=c&&n(c),l=o&&o.showSiblings?i.filter((function(e){return e.parent===o.parent})):void 0;return l?r.a.createElement("div",{className:"toolbar-siblings"},l.map((function(e){var n=e.button,i=e.id;return r.a.createElement(H,{key:i,isActive:-1!==t.indexOf(i),onClick:function(){return a(i)}},n)}))):r.a.createElement(r.a.Fragment,null)}),F=function(e){var t=e.children;return r.a.createElement("div",{className:"app"},r.a.createElement(_,null),r.a.createElement("aside",null,r.a.createElement(I,null)),r.a.createElement("div",{className:"app__body"},t),r.a.createElement(W,null),r.a.createElement(q,null))},L=function(){return r.a.createElement(F,null,"Home")},D=n(5),U=r.a.createContext({}),R=function(e){var t=e.children,n=Object(a.useState)({completed:!0}),i=Object(f.a)(n,2),c=i[0],o=i[1],l=Object(a.useState)([]),u=Object(f.a)(l,2),s=u[0],d=u[1],m=Object(a.useState)([]),p=Object(f.a)(m,2),h=p[0],g=p[1],v=Object(a.useCallback)((function(){o(Object(D.a)(Object(D.a)({},c),{},{completed:!c.completed}))}),[c]);return Object(a.useEffect)((function(){g(c.completed?s.filter((function(e){return!e.completed})):s)}),[c,g,s]),r.a.createElement(U.Provider,{value:{todos:h,toggleCompleted:v,setTodos:d,filter:c}},t)},B=function(){return r.a.useContext(U)},J=function(){var e=B(),t=e.todos,n=e.setTodos;return Object(a.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/todos").then((function(e){return e.json()})).then((function(e){console.log({json:e}),n(e)}))}),[n]),t?r.a.createElement("div",{className:"todo-list"},t.map((function(e,t){return r.a.createElement("div",{className:"todo",key:e.id+t},e.completed?"V":"X","-",e.title)}))):r.a.createElement(r.a.Fragment,null)},G=(n(48),function(e){var t=e.text,n=e.icon,a=Object(M.a)(e,["text","icon"]);return r.a.createElement("div",Object.assign({className:"button"},a),r.a.createElement(p.a,{className:"button__icon",icon:n}),r.a.createElement("span",{className:"button__text"},t))}),V=(n(49),function(){var e=B(),t=e.toggleCompleted,n=e.filter.completed;return r.a.createElement("div",{className:"todo-filter todo-filter-completed"},r.a.createElement("label",null,"Hide completed todos"),r.a.createElement("input",{type:"checkbox",checked:n,onChange:t}))}),X=[{button:r.a.createElement(G,{icon:"fish",text:"Great fish"}),parent:"recipes",id:"fish",navigate:!1},{button:r.a.createElement(G,{icon:"stroopwafel",text:"Belgian waffle"}),parent:"recipes",id:"waffle",navigate:!1},{button:r.a.createElement(G,{icon:"pizza-slice",text:"Pizza"}),parent:"recipes",id:"pizza",navigate:!1}],Z=function(){var e=k(),t=e.add,n=e.navigateDown,i=Object(a.useState)(!1),c=Object(f.a)(i,2),o=c[0],l=c[1],u=Object(a.useCallback)((function(){l(!0),setTimeout((function(){t(X),l(!1),n("recipes")}),2e3)}),[t,n]);return r.a.createElement(G,{icon:o?s.e:s.y,text:o?"Loading...":"Recipes",onClick:u})},$=[{button:r.a.createElement(G,{icon:s.o,text:"To do"}),content:r.a.createElement(V,null),id:"to do"},{button:r.a.createElement(G,{icon:s.t,text:"Space robot"}),content:r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),id:"robot"},{navigate:!1,button:r.a.createElement(Z,null),id:"recipes"}],K=function(){var e=k().reset;return Object(a.useEffect)((function(){return e($),function(){e([])}}),[e]),r.a.createElement(F,null,r.a.createElement(J,null))},Q=(n(50),function(e){var t=e.children,n=e.tag,a=void 0===n?"p":n,i=Object(M.a)(e,["children","tag"]);return r.a.createElement(a,i,t)});function Y(e,t){switch(t.type){case"add":return{photos:t.payload};default:return e}}function ee(e,t){switch(t.type){case"request-html-success":return t.data;case"update-html":var n=e.findIndex((function(e){return e.id===t.id})),a=Object(D.a)(Object(D.a)({},e[n]),t.data);return[].concat(Object(h.a)(e.slice(0,n)),[a],Object(h.a)(e.slice(n+1)));case"add-html":return[].concat(Object(h.a)(e),[t.data]);default:return e}}function te(e,t){switch(t.type){case"set-default-style":return t.data;default:return e}}function ne(e,t){switch(t.type){case"select-html":return t.data;default:return e}}function ae(e,t){return{data:ee(e.data,t),selectedId:ne(e.selectedId,t),defaultStyle:te(e.defaultStyle,t)}}function re(e,t){return{photos:Y(e.photos,t),html:ae(e.html,t)}}function ie(e){var t=e.selectedId;if(t)return e.data.find((function(e){return e.id===t}))}function ce(e){return e.html}function oe(e){return e.photos}var le=r.a.createContext({}),ue=function(e){var t=e.children,n=Object(a.useReducer)(re,{html:{data:[],selectedId:void 0,defaultStyle:{textAlign:"left",fontSize:"10px"}},photos:{photos:[]}}),i=Object(f.a)(n,2),c=i[0],o=i[1],l=Object(a.useMemo)((function(){return{state:c,dispatch:o}}),[c,o]);return r.a.createElement(le.Provider,{value:l},t)},se=function(){var e=r.a.useContext(le),t=e.state,n=e.dispatch;return{state:ce(t),dispatch:n}},de=function(){var e=r.a.useContext(le),t=e.state,n=e.dispatch;return{state:oe(t),dispatch:n}},me=function(){var e=k().navigate,t=se(),n=t.state,i=t.dispatch,c=Object(a.useCallback)((function(t){e("text",{allowChild:!0}),i({type:"select-html",data:t})}),[e,i]);return r.a.createElement("div",{className:"editor"},r.a.createElement("p",null,"Click the text below to select and start editing"),n.data.map((function(e){return r.a.createElement(Q,{key:e.id,tag:e.tag,onClick:c.bind(null,e.id),className:n.selectedId===e.id?"active":void 0,style:e.style},e.content)})))},pe=function(e){var t=e.data,n=se(),i=n.state,c=n.dispatch,o=t.icon,l=t.text,u=t.style,s=ie(i),d=s||{},m=d.style,p=d.id,f=Object(a.useCallback)((function(){p&&c({type:"update-html",data:{style:Object(D.a)(Object(D.a)({},m),u)},id:p})}),[c,u,p,m]),h={fontWeight:s&&s.style&&Array.from(Object.keys(u)).every((function(e){return u[e]===s.style[e]}))?"bold":"normal"};return r.a.createElement(G,{style:h,icon:o,text:l,onClick:f})},fe=(n(51),function(e){var t=e.min,n=e.max,a=e.value,i=Object(M.a)(e,["min","max","value"]);return r.a.createElement("div",{className:"slider"},r.a.createElement("input",Object.assign({min:t,max:n,type:"range",value:a},i)))}),he=function(e){var t=e.cssProperty,n=se(),i=n.state,c=n.dispatch,o=ie(i),l=Object(a.useCallback)((function(e){if(o){var n=o.style,a=o.id,r=Object(D.a)({},n);r[t]=e.target.value+"px",c({type:"update-html",data:{style:r},id:a})}}),[c,o,t]);if(!o)return r.a.createElement("p",null,"Select some text first");var u=+(o.style[t]||"").replace(/[A-Za-z]/g,"");return r.a.createElement(fe,{onChange:l,min:1,max:50,value:u})};u.b.add(s.m,s.w,s.v,s.p,s.a);var ge=[{button:r.a.createElement(G,{icon:"text-width",text:"Text width"}),content:r.a.createElement(he,{cssProperty:"letterSpacing"}),parent:"text",id:"text-width"},{button:r.a.createElement(G,{icon:"text-height",text:"Text height"}),content:r.a.createElement(he,{cssProperty:"fontSize"}),parent:"text",id:"text-height"},{button:r.a.createElement(G,{icon:"align-center",text:"Text alignment"}),parent:"text",id:"text-alignment",showSiblings:!0},{button:r.a.createElement(G,{icon:"heading",text:"Heading"}),parent:"text",id:"heading",showSiblings:!0},{navigate:!1,button:r.a.createElement(pe,{data:{icon:"paragraph",text:"Paragraph",style:{fontSize:"12px",padding:0,fontWeight:"normal",letterSpacing:"1px"}}}),parent:"text",id:"paragraph"}],ve={justify:{icon:s.b,text:"Justify",style:{textAlign:"justify"}},left:{icon:s.c,text:"Left",style:{textAlign:"left"}},right:{icon:s.d,text:"Right",style:{textAlign:"right"}},center:{icon:s.a,text:"Center",style:{textAlign:"center"}}},be=[{button:r.a.createElement(pe,{data:ve.justify}),parent:"text-alignment",id:"align-justify",navigate:!1},{button:r.a.createElement(pe,{data:ve.left}),parent:"text-alignment",id:"align-left",navigate:!1},{button:r.a.createElement(pe,{data:ve.center}),parent:"text-alignment",id:"align-center",navigate:!1},{button:r.a.createElement(pe,{data:ve.right}),parent:"text-alignment",id:"align-right",navigate:!1}],Ee={h1:{icon:s.m,text:"H1",style:{fontSize:"30px",padding:"1em 0 1em 0",fontWeight:"bold"}},h2:{icon:s.m,text:"H2",style:{fontSize:"22px",padding:"0.8em 0 0.8em 0",fontWeight:"bold"}},h3:{icon:s.m,text:"H3",style:{fontSize:"20px",padding:"0.4em 0 0.4em 0",fontWeight:"bold"}},h4:{icon:s.m,text:"H4",style:{fontSize:"12px",padding:"0.2em 0 0.2em 0",fontWeight:"bold"}},h5:{icon:s.m,text:"H5",style:{fontSize:"10px",padding:"0 0 0 0",fontWeight:"bold"}},h6:{icon:s.m,text:"H6",style:{fontSize:"8px",padding:"0 0 0 0",fontWeight:"bold"}}},ye=[{button:r.a.createElement(pe,{data:Ee.h1}),parent:"heading",id:"heading-1"},{button:r.a.createElement(pe,{data:Ee.h2}),parent:"heading",id:"heading-2"},{button:r.a.createElement(pe,{data:Ee.h3}),parent:"heading",id:"heading-3"},{button:r.a.createElement(pe,{data:Ee.h4}),parent:"heading",id:"heading-4"},{button:r.a.createElement(pe,{data:Ee.h5}),parent:"heading",id:"heading-5"},{button:r.a.createElement(pe,{data:Ee.h6}),parent:"heading",id:"heading-6"}],xe=[].concat(Object(h.a)(ge),Object(h.a)(be),Object(h.a)(ye)),je=n(18),Oe=function(){var e=de().state.photos;return r.a.createElement(r.a.Fragment,null,e.map((function(e,t){return r.a.createElement("img",{key:t,alt:e.title,src:e.thumbnailUrl})})))},Ce=function(){var e=de().dispatch,t=Object(a.useState)(!1),n=Object(f.a)(t,2),i=n[0],c=n[1],o=k().navigateDown,l=Object(a.useCallback)((function(){c(!0),fetch("https://jsonplaceholder.typicode.com/photos?albumId=6").then((function(e){return e.json()})).then((function(e){return new Promise((function(t){return setTimeout((function(){t(e)}),1e3)}))})).finally((function(){return c(!1)})).then((function(t){e({type:"add",payload:t}),o("filmroll")}))}),[e,o]);return r.a.createElement(G,{icon:s.k,text:i?"Loading...":"Film roll",onClick:l})},ke=[{button:r.a.createElement(Ce,null),content:r.a.createElement(Oe,null),id:"filmroll",parent:"photo"},{button:r.a.createElement(G,{icon:je.a,text:"Facebook"}),id:"facebook",parent:"photo"},{button:r.a.createElement(G,{icon:je.c,text:"Google"}),id:"google",parent:"photo"},{button:r.a.createElement(G,{icon:je.b,text:"Flickr"}),id:"flickr",parent:"photo"},{button:r.a.createElement(G,{icon:je.d,text:"Instagram"}),id:"instagram",parent:"photo"}],we=[{button:r.a.createElement(G,{icon:s.g,text:"Photo"}),id:"photo"},{button:r.a.createElement(G,{icon:s.s,text:"Text"}),id:"text"}].concat(Object(h.a)(xe),Object(h.a)(ke)),Se=[{id:"1",tag:"h1",content:"Heading 1",style:{textAlign:"left",fontSize:"28px",letterSpacing:"1px"}},{id:"2",tag:"h2",content:"Heading 2",style:{textAlign:"left",fontSize:"22px",letterSpacing:"1px"}},{id:"3",tag:"h3",content:"Heading 3",style:{textAlign:"left",fontSize:"18px",letterSpacing:"1px"}}],Ne=function(){var e=k().reset,t=se(),n=t.state,i=t.dispatch,c=n.defaultStyle;return Object(a.useEffect)((function(){return e(we),function(){e([])}}),[e]),Object(a.useEffect)((function(){Promise.resolve(Se).then((function(e){i({type:"request-html-success",data:e.map((function(e){var t=Object(D.a)(Object(D.a)({},c),e.style);return Object(D.a)(Object(D.a)({},e),{},{style:t})}))})}))}),[c,i]),r.a.createElement(F,null,r.a.createElement(me,null))};u.b.add(s.i,s.n,s.t,s.x,s.l,s.q,s.u);var ze=function(){return r.a.createElement(o.a,{basename:"/hierarchical-app-toolbar"},r.a.createElement(ue,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/todos"},r.a.createElement(K,null)),r.a.createElement(l.a,{path:"/editor"},r.a.createElement(Ne,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(L,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null,r.a.createElement(R,null,r.a.createElement(C,{paths:[]},r.a.createElement(ze,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.7b124b40.chunk.js.map